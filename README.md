# Telegram bot: 777 -> Stars gift

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è-—Å–ª–æ—Ç—ã `üé∞`.
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏–≤–∞–µ—Ç `777` (–≤ Telegram —ç—Ç–æ `dice.value = 64`), –±–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫ –∑–∞ Stars.

## –õ–æ–≥–∏–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤

- –õ–∏–º–∏—Ç: –º–∞–∫—Å–∏–º—É–º `1` –ø–æ–¥–∞—Ä–æ–∫ –≤ –¥–µ–Ω—å –Ω–∞ –≤—Å—é –≥—Ä—É–ø–ø—É.
- –Ø–∫—â–æ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫ —É–∂–µ –≤–∏–¥–∞–Ω–∏–π, –±–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ —Å–ø—Ä–æ–±–∏ –∫—Ä—É—Ç–∏—Ç–∏ `üé∞` –Ω–µ —á–∞—Å—Ç—ñ—à–µ, –Ω—ñ–∂ —Ä–∞–∑ –Ω–∞ `10` —Ö–≤–∏–ª–∏–Ω.
- –ê–≤—Ç–æ–ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è: —è–∫—â–æ –≤ –±–æ—Ç–∞ –º–µ–Ω—à–µ `100` Stars, –≤—ñ–Ω –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–∞–∑–∞—Ç–∏ Stars –∑ –±—ñ–∑–Ω–µ—Å-–∞–∫–∞—É–Ω—Ç–∞.
- –£ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ –ø—Ä–æ –≤–∏–≥—Ä–∞—à –±–æ—Ç –ø–æ–∫–∞–∑—É—î, —Ö—Ç–æ —Å–∞–º–µ –≤–∏–≥—Ä–∞–≤ —ñ –∑ —è–∫–æ—ó —Å–ø—Ä–æ–±–∏ –∑–∞ –ø–æ—Ç–æ—á–Ω–∏–π –¥–µ–Ω—å.
- –ö–≤–æ—Ç—ã –Ω–∞ –º–µ—Å—è—Ü (–Ω–∞ –≥—Ä—É–ø–ø—É):
  - `50 Stars` -> `3` —à—Ç
  - `25 Stars` -> `6` —à—Ç
  - `15 Stars` -> `22` —à—Ç
- –í—Å–µ–≥–æ: `31` –ø–æ–¥–∞—Ä–æ–∫ / `630 Stars`.
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (50/25/15) –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º –∫–≤–æ—Ç.
- –í–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–æ—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –∏–∑ `getAvailableGifts`.
- –ï—Å–ª–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ü–µ–Ω—ã –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤, –±–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–¥–∞—Ç—å –Ω–∏–∂–µ –ø–æ —Ü–µ–Ω–µ (`50 -> 25 -> 15`, `25 -> 15`).

–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ SQLite (`gift_state.sqlite3` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø–æ—ç—Ç–æ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏.

## –ó–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python 3.10+.
2. –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
4. –°–æ–∑–¥–∞—Ç—å `.env`:
   ```bash
   cp .env.example .env
   ```
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å:
   ```bash
   python bot.py
   ```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –æ—Ç `@BotFather`.
- `DB_PATH` - –ø—É—Ç—å –∫ SQLite-—Ñ–∞–π–ª—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `gift_state.sqlite3`).
- `TZ` - —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ/–º–µ—Å—è—á–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `Europe/Kyiv`).
- `ALLOWED_CHAT_IDS` - whitelist –≥—Ä—É–ø —É —Ñ–æ—Ä–º–∞—Ç—ñ CSV (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `-100123,-100456`).
- `FALLBACK_TEXT` - —Ç–µ–∫—Å—Ç, —è–∫—â–æ –ø–æ–¥–∞—Ä—É–Ω–æ–∫ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–µ –≤–¥–∞–ª–æ—Å—è.
- `DAILY_LIMIT_TEXT` - —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∫–æ–ª–∏ –¥–µ–Ω–Ω–∏–π –ª—ñ–º—ñ—Ç —É–∂–µ –≤–∏—á–µ—Ä–ø–∞–Ω–æ.
- `MONTHLY_LIMIT_TEXT` - —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∫–æ–ª–∏ –º—ñ—Å—è—á–Ω–∞ –∫–≤–æ—Ç–∞ –≤–∂–µ –≤–∏—á–µ—Ä–ø–∞–Ω–∞.
- `DAILY_NOTICE_COOLDOWN_MIN` - —ñ–Ω—Ç–µ—Ä–≤–∞–ª (—É —Ö–≤–∏–ª–∏–Ω–∞—Ö) –º—ñ–∂ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ –ø—Ä–æ –≤–∏—á–µ—Ä–ø–∞–Ω–∏–π –¥–µ–Ω–Ω–∏–π –ª—ñ–º—ñ—Ç (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `10`).
- `AUTO_TOPUP_ENABLED` - —É–≤—ñ–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è (`1`/`0`, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `1`).
- `AUTO_TOPUP_THRESHOLD` - –ø–æ—Ä—ñ–≥ Stars —É –±–æ—Ç—ñ, –Ω–∏–∂—á–µ —è–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `100`).
- `AUTO_TOPUP_AMOUNT` - —Å–∫—ñ–ª—å–∫–∏ Stars –ø–µ—Ä–µ–∫–∞–∑—É–≤–∞—Ç–∏ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `615`).
- `BUSINESS_CONNECTION_ID` - –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ –≤—Ä—É—á–Ω—É; —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ, –±–æ—Ç —Å–ø—Ä–æ–±—É—î –∑–±–µ—Ä–µ–≥—Ç–∏ –π–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ –±—ñ–∑–Ω–µ—Å-–∞–ø–¥–µ–π—Ç—ñ–≤.

–ë–µ–∑–ø–µ–∫–∞:
- –ë–æ—Ç –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ –≥—Ä—É–ø–∞—Ö —ñ–∑ `ALLOWED_CHAT_IDS`.
- –Ø–∫—â–æ `ALLOWED_CHAT_IDS` –ø–æ—Ä–æ–∂–Ω—ñ–π, –±–æ—Ç –Ω–µ –æ–±—Ä–æ–±–ª—è—î –∂–æ–¥–µ–Ω —á–∞—Ç.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Telegram

1. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ `@BotFather` –∏ –ø–æ–ª—É—á–∏ `BOT_TOKEN`.
2. –í `@BotFather` –æ—Ç–∫–ª—é—á–∏ privacy mode:
   `/setprivacy` -> –≤—ã–±–µ—Ä–∏ –±–æ—Ç–∞ -> `Disable`.
3. –î–æ–±–∞–≤—å –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –¥–∞–π –ø—Ä–∞–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.
4. –î–ª—è –≤—ã–¥–∞—á–∏ Stars gift —É –±–æ—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø/–±–∞–ª–∞–Ω—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤.

## Business Bot

–ú–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å —ç—Ç–æ–≥–æ –±–æ—Ç–∞ –∫ –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç—É –≤ Telegram:

1. `Settings -> Telegram Business -> Chatbots`.
2. –ü–æ–¥–∫–ª—é—á–∏ –±–æ—Ç–∞.
3. –í–∫–ª—é—á–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ –≥—Ä—É–ø–ø–∞—Ö (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –∫–ª–∏–µ–Ω—Ç–µ).

## Railway

–ú–æ–∂–Ω–∞ –¥–µ–ø–ª–æ—ó—Ç–∏ –Ω–∞ Railway —è–∫ `Worker` (–±–µ–∑ HTTP-–ø–æ—Ä—Ç—É), —Å—Ç–∞—Ä—Ç–æ–≤–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–∂–µ –≥–æ—Ç–æ–≤–∞: `python bot.py`.

1. –ü—ñ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —É Railway.
2. –î–æ–¥–∞–π Environment Variables –∑ `.env.example` (–º—ñ–Ω—ñ–º—É–º `BOT_TOKEN`).
3. –ó–∞–¥–µ–ø–ª–æ–π —Å–µ—Ä–≤—ñ—Å.

–í–∞–∂–ª–∏–≤–æ: Railway-—Ñ–∞–π–ª–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ –±—É—Ç–∏ –µ—Ñ–µ—Ä–º–µ—Ä–Ω–æ—é. –Ø–∫—â–æ –ª–∏—à–∏—à `SQLite` —É —Ñ–∞–π–ª—ñ (`gift_state.sqlite3`) –±–µ–∑ persistent volume, –ª—ñ–º—ñ—Ç–∏/—Å—Ç–∞–Ω –º–æ–∂—É—Ç—å —Å–∫–∏–¥–∞—Ç–∏—Å—è –ø—ñ—Å–ª—è redeploy/restart.
